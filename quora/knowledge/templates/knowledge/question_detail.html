{% extends "base_generic.html" %}

{% block content %}
  <h1>Question: {{ question.question_text }}</h1>

  <p><strong>Author:</strong> <a href="{% url 'user-detail' question.user.pk %}">{{ question.user.username }}</a></p>
  <p><strong>Date added:</strong> {{ question.pub_date }}</p>  

  <p><a href="{% url 'question_update' question.pk %}">Update Question</a>
    <a href="{% url 'question_delete' question.pk %}">Delete Question</a>
  </p>
  <p><a href="{% url 'answer_create' question.pk %}">Add Answer</a></p>
   <div style="margin-left:20px;margin-top:20px">

    {% for ans in question.answer_set.all %}
      <hr>
        <p><a href="{% url 'user-detail' ans.user.pk%}">{{ans.user.username}}</a>, {{ans.user.bio}}</p>
      <p>
        <a href="{% url 'answer-detail' ans.question.pk ans.pk %}">{{ ans.answer_text }}</a>
        <p>Comments!!</p>
        {% for cmt in ans.comment_set.all %}
        <p>{{cmt.user.username}}</p>
        <p>{{ cmt.comment_text}}</p>
        {% endfor %}
      </p>
      
    {% endfor %} 
  </div>
{% endblock %}